{"version":3,"sources":["components/NavLink/NavigationLink.tsx","components/Navbar/NavBar.tsx","components/Loader/Loader.tsx","api.ts","components/PersonLink/PersonLink.tsx","components/PersonInfo/PersonInfo.tsx","helpers/helpers.ts","components/PeopleTable/PeopleTable.tsx","components/PeoplePage/PeoplePage.tsx","components/HomePage/HomePage.tsx","components/NotFoundPage/NotFoundPage.tsx","App.tsx","index.tsx"],"names":["NavigationLink","props","to","title","_jsx","NavLink","className","_ref","isActive","cn","children","NavBar","role","_jsxs","Loader","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","PersonLink","person","name","slug","isWoman","sex","Link","concat","PersonInfo","born","died","mother","father","fatherName","motherName","_useParams$userSlug","useParams","userSlug","isSelected","getPeopleWithParents","people","map","_objectSpread","find","woman","man","PeopleTable","_useState","useState","_useState2","_slicedToArray","setPeople","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","isError","setIsError","loadPeople","_asyncToGenerator","_regeneratorRuntime","mark","_callee","peopleFromServer","peopleWithParents","wrap","_context","prev","next","sent","t0","finish","stop","apply","arguments","useEffect","noPeopleOnServer","length","PeoplePage","HomePage","NotFoundPage","App","Routes","Route","path","element","Navigate","replace","index","createRoot","document","getElementById","render","Router"],"mappings":"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","file":"static/js/main.c205699e.chunk.js","sourcesContent":["import { NavLink } from 'react-router-dom';\nimport cn from 'classnames';\nimport { FC } from 'react';\n\ninterface Props {\n  to: string,\n  title: string,\n}\n\nexport const NavigationLink: FC<Props> = (props) => {\n  const { to, title } = props;\n\n  return (\n    <NavLink\n      to={to}\n      className={({ isActive }) => cn('navbar-item', {\n        'has-background-grey-lighter': isActive,\n      })}\n    >\n      {title}\n    </NavLink>\n  );\n};\n","import { NavigationLink } from '../NavLink/NavigationLink';\n\nexport const NavBar = () => {\n  return (\n    <nav\n      data-cy=\"nav\"\n      className=\"navbar is-fixed-top has-shadow\"\n      role=\"navigation\"\n      aria-label=\"main navigation\"\n    >\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <NavigationLink to=\"/\" title=\"Home\" />\n          <NavigationLink to=\"/people\" title=\"People\" />\n        </div>\n      </div>\n    </nav>\n  );\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport cn from 'classnames';\nimport { Person } from '../../types';\n\ninterface Props {\n  person: Person,\n}\n\nexport const PersonLink: FC<Props> = ({ person }) => {\n  const {\n    name,\n    slug,\n    sex,\n  } = person;\n\n  const isWoman = sex === 'f';\n\n  return (\n    <Link\n      to={`/people/${slug}`}\n      className={cn({\n        'has-text-danger': isWoman,\n      })}\n    >\n      {name}\n    </Link>\n  );\n};\n","import { FC } from 'react';\nimport { useParams } from 'react-router-dom';\nimport cn from 'classnames';\nimport { Person } from '../../types';\nimport { PersonLink } from '../PersonLink/PersonLink';\n\ninterface Props {\n  person: Person,\n}\n\nexport const PersonInfo: FC<Props> = ({ person }) => {\n  const {\n    slug,\n    sex,\n    born,\n    died,\n    mother,\n    father,\n    fatherName,\n    motherName,\n  } = person;\n\n  const { userSlug = '' } = useParams();\n  const isSelected = slug === userSlug;\n\n  return (\n    <tbody>\n      <tr\n        data-cy=\"person\"\n        className={cn({\n          'has-background-warning': isSelected,\n        })}\n      >\n        <td>\n          <PersonLink person={person} />\n        </td>\n\n        <td>{sex}</td>\n        <td>{born}</td>\n        <td>{died}</td>\n\n        <td>\n          {mother ? (\n            <PersonLink person={mother} />\n          ) : (\n            motherName || '-'\n          )}\n        </td>\n\n        <td>\n          {father ? (\n            <PersonLink person={father} />\n          ) : (\n            fatherName || '-'\n          )}\n        </td>\n      </tr>\n    </tbody>\n  );\n};\n","import { Person } from '../types';\n\nexport const getPeopleWithParents = (people: Person[]) => {\n  return people.map(person => ({\n    ...person,\n    mother: people.find(woman => woman.name === person.motherName) || null,\n    father: people.find(man => man.name === person.fatherName) || null,\n  }));\n};\n","import { useEffect, useState } from 'react';\nimport { Loader } from '../Loader';\nimport { Person } from '../../types';\nimport { getPeople } from '../../api';\nimport { PersonInfo } from '../PersonInfo/PersonInfo';\nimport { getPeopleWithParents } from '../../helpers/helpers';\n\nexport const PeopleTable = () => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  const loadPeople = async () => {\n    setIsLoading(true);\n    setIsError(false);\n\n    try {\n      const peopleFromServer = await getPeople();\n      const peopleWithParents = getPeopleWithParents(peopleFromServer);\n\n      setPeople(peopleWithParents);\n    } catch {\n      setIsError(true);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadPeople();\n  }, []);\n\n  const noPeopleOnServer = !people.length && !isLoading;\n\n  return (\n    <div className=\"block\">\n      <div className=\"box table-container\">\n        {isLoading && (\n          <Loader />\n        )}\n\n        {isError && (\n          <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n            Something went wrong\n          </p>\n        )}\n\n        {noPeopleOnServer && (\n          <p data-cy=\"noPeopleMessage\">\n            There are no people on the server\n          </p>\n        )}\n\n        {people.length > 0 && (\n          <table\n            data-cy=\"peopleTable\"\n            className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n          >\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Sex</th>\n                <th>Born</th>\n                <th>Died</th>\n                <th>Mother</th>\n                <th>Father</th>\n              </tr>\n            </thead>\n\n            {people.map(person => (\n              <PersonInfo\n                key={person.slug}\n                person={person}\n              />\n            ))}\n          </table>\n        )}\n      </div>\n    </div>\n  );\n};\n","import { PeopleTable } from '../PeopleTable/PeopleTable';\n\nexport const PeoplePage = () => {\n  return (\n    <main className=\"section\">\n      <div className=\"container\">\n        <h1 className=\"title\">People Page</h1>\n        <PeopleTable />\n      </div>\n    </main>\n  );\n};\n","export const HomePage = () => {\n  return (\n    <main className=\"section\">\n      <div className=\"container\">\n        <h1 className=\"title\">\n          Home Page\n        </h1>\n      </div>\n    </main>\n  );\n};\n","export const NotFoundPage = () => {\n  return (\n    <main className=\"section\">\n      <div className=\"container\">\n        <h1 className=\"title\">\n          Page not found\n        </h1>\n      </div>\n    </main>\n  );\n};\n","import {\n  Navigate,\n  Route,\n  Routes,\n} from 'react-router-dom';\nimport './App.scss';\nimport { NavBar } from './components/Navbar/NavBar';\nimport { PeoplePage } from './components/PeoplePage/PeoplePage';\nimport { HomePage } from './components/HomePage/HomePage';\nimport { NotFoundPage } from './components/NotFoundPage/NotFoundPage';\n\nexport const App = () => (\n  <div data-cy=\"app\">\n    <NavBar />\n\n    <Routes>\n      <Route path=\"/\" element={<HomePage />} />\n      <Route path=\"home\" element={<Navigate to=\"/\" replace />} />\n      <Route path=\"/people\">\n        <Route index element={<PeoplePage />} />\n        <Route path=\":userSlug\" element={<PeoplePage />} />\n      </Route>\n\n      <Route path=\"*\" element={<NotFoundPage />} />\n    </Routes>\n  </div>\n);\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <Router>\n      <App />\n    </Router>,\n  );\n"],"sourceRoot":""}